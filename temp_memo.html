<nav>
    <h3>navigation</h3>
    {% assign pages_sorted = site.pages | sort: 'url' %}

    {% comment %}
    this should also work: ???
    ### navigation
    {% endcomment %}


    {% comment %}
    <div>
        {% assign test = "" | split: ", " %}
        {{ test | inspect }}
    </div>
    <div>
        {% assign test = test | push: "hello" %}
        {{ test | inspect }}
    </div>
    <div>
        {% assign test = test | push: "world" %}
        {{ test | inspect }}
    </div>
    <div>
        {% assign test = test | push: "Sun" %}
        {{ test | inspect }}
    </div>
    <div>
        {% assign test2 = test | pop %}
        {{ test2 | inspect }}
    </div>
    {% endcomment %}

    {% comment %}
    <ul>
    {% for page_entry in pages_sorted %}
        {% if page_entry.title %}
            <li
                {% if page.url == page_entry.url %}class="current"{% endif %}
            >
                <a href="{{ page_entry.url }}">{{ page_entry.title }}</a>
            </li>
        {% endif %}
    {% endfor %}
    </ul>
    {% endcomment %}

</nav>







{% comment %}
{% if start_depth == 0 and page_entry.url == '/' %}
    <li
        {% if page.url == page_entry.url %}class="current"{% endif %}
    >
        <a href="{{ page_entry.url }}">{{ page_entry.title }}</a>
    </li>
{% elsif this_depth == start_depth %}
    <li
        {% if page.url == page_entry.url %}class="current"{% endif %}
    >
        <a href="{{ page_entry.url }}">{{ page_entry.title }}</a>
    </li>
{% elsif this_depth > start_depth and old_urlpart != this_depth_urlpart %}
{% endcomment %}










<!-- {% comment %}
    math: - 1
{% case this_level %}
  {% when 1 %}
    {% assign temp = 0 %}
  {% when 2 %}
    {% assign temp = 1 %}
  {% when 3 %}
    {% assign temp = 2 %}
  {% when 4 %}
    {% assign temp = 3 %}
  {% when 5 %}
    {% assign temp = 4 %}
{% endcase %}
{% assign this_level_urlpart = this_url_parts[temp] %}
{% endcomment %} -->
























{% if this_level == start_level and this_level_urlpart != next_level_urlpart%}
    FINE
    <li
        {% if page.url == page_entry.url %}class="current"{% endif %}
    >
        <a href="{{ page_entry.url }}">{{ page_entry.title }}</a>
    </li>
{% elsif this_level_urlpart == next_level_urlpart and old_urlpart != this_level_urlpart%}
    {% assign old_urlpart = this_level_urlpart %}
    <li class="sub">
        <a href="{{ page_entry.url }}">{{ page_entry.title }}</a><br>
        ****
        {% comment %}
            math: + 1
        {% endcomment %}
        {% case this_level %}
          {% when 0 %}
            {% assign next_sub_level = 1 %}
          {% when 1 %}
            {% assign next_sub_level = 2 %}
          {% when 2 %}
            {% assign next_sub_level = 3 %}
          {% when 3 %}
            {% assign next_sub_level = 4 %}
          {% when 4 %}
            {% assign next_sub_level = 5 %}
          {% when 5 %}
            {% assign next_sub_level = 6 %}
        {% endcase %}

        next_sub_level: {{ next_sub_level | inspect }}<br>
        {% assign stack__old_urlpart = stack__old_urlpart | push: this_level_urlpart %}
        {% assign stack__next_urlpart = stack__next_urlpart | push: next_level_urlpart %}
        {% assign stack__this_level = stack__this_level | push: this_level %}
        {% assign stack__start_level = stack__start_level | push: start_level %}
        {% assign stack__page_list_start_index = stack__page_list_start_index | push: page_list_start_index %}

        #################
        here we would add the sub things...

        {%
            include nav_list.html
            page_list=page_list
            start_level=next_sub_level
            page_list_start_index=next_start
        %}
        {% comment %}
        {% endcomment %}

        {% assign old_urlpart = stack__old_urlpart.last %}
        {% assign stack__old_urlpart = stack__old_urlpart | pop %}
        {% assign next_level_urlpart = stack__next_urlpart.last %}
        {% assign stack__next_urlpart = stack__next_urlpart | pop %}
        {% assign this_level = stack__this_level.last %}
        {% assign stack__this_level = stack__this_level | pop %}
        {% assign start_level = stack__start_level.last %}
        {% assign stack__start_level = stack__start_level | pop %}
        {% assign page_list_start_index = stack__page_list_start_index.last %}
        {% assign stack__page_list_start_index = stack__page_list_start_index | pop %}

    </li>
{% endif %}















{% comment %}
    increment list_index_current
    math: + 1
{% endcomment %}
{% assign temp = nil %}
{% case list_index_current %}
  {% when 0 %}
    {% assign temp = 1 %}
  {% when 1 %}
    {% assign temp = 2 %}
  {% when 2 %}
    {% assign temp = 3 %}
  {% when 3 %}
    {% assign temp = 4 %}
  {% when 4 %}
    {% assign temp = 5 %}
  {% when 5 %}
    {% assign temp = 6 %}
  {% when 6 %}
    {% assign temp = 7 %}
  {% when 7 %}
    {% assign temp = 8 %}
  {% when 8 %}
    {% assign temp = 9 %}
  {% when 9 %}
    {% assign temp = 10 %}
  {% when 10 %}
    {% assign temp = 11 %}
  {% when 11 %}
    {% assign temp = 12 %}
  {% when 12 %}
    {% assign temp = 13 %}
  {% when 13 %}
    {% assign temp = 14 %}
  {% when 14 %}
    {% assign temp = 15 %}
  {% when 15 %}
    {% assign temp = 16 %}
  {% when 16 %}
    {% assign temp = 17 %}
  {% when 17 %}
    {% assign temp = 18 %}
  {% when 18 %}
    {% assign temp = 19 %}
  {% when 19 %}
    {% assign temp = 20 %}
{% endcase %}
{% assign list_index_current = temp %}






{% comment %}
    next_sub_level = this_level + 1
{% endcomment %}
{% assign temp = nil %}
{% case this_level %}
  {% when 0 %}
    {% assign temp = 1 %}
  {% when 1 %}
    {% assign temp = 2 %}
  {% when 2 %}
    {% assign temp = 3 %}
  {% when 3 %}
    {% assign temp = 4 %}
  {% when 4 %}
    {% assign temp = 5 %}
  {% when 5 %}
    {% assign temp = 6 %}
  {% when 6 %}
    {% assign temp = 7 %}
  {% when 7 %}
    {% assign temp = 8 %}
  {% when 8 %}
    {% assign temp = 9 %}
  {% when 9 %}
    {% assign temp = 10 %}
  {% when 10 %}
    {% assign temp = 11 %}
  {% when 11 %}
    {% assign temp = 12 %}
  {% when 12 %}
    {% assign temp = 13 %}
  {% when 13 %}
    {% assign temp = 14 %}
  {% when 14 %}
    {% assign temp = 15 %}
  {% when 15 %}
    {% assign temp = 16 %}
  {% when 16 %}
    {% assign temp = 17 %}
  {% when 17 %}
    {% assign temp = 18 %}
  {% when 18 %}
    {% assign temp = 19 %}
  {% when 19 %}
    {% assign temp = 20 %}
{% endcase %}
{% assign next_sub_level = temp %}








{% comment %}
We have something like this:
    "/ideas/"
    "/ideas/POV/"
    "/ideas/POV/POV_3D/"
    "/ideas/POV/pov_datatransmission.html"
    "/ideas/POV/pov_motor.html"
    "/ideas/POV/pov_powertransmission.html"
    "/meta.html"
---

first we create a array of arrays:
{% endcomment %}
